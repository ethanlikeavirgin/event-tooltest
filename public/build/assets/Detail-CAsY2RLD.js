import{d as v,T as x,q as _,c as y,w as b,N as g,o,a as t,b as k,e as n,h as f,F as h,t as c,i as C,l as w,x as P,g as A}from"./app-CyxmPji5.js";import{C as B}from"./Container-C5l9_gsQ.js";import{_ as N}from"./AppLayout-CQ7vmf8i.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={props:{items:Array,detailitems:Array},components:{Container:B,AppLayout:N},setup(){const l=v({}),s=x({price:"",item_id:"",name:"",counter:""});return{counters:l,form:s,submit:(r,m,u)=>{const i=l.value[r];if(!i||i<=0){console.error(`Please enter quantity for ${m}`);return}s.item_id=r,s.name=m,s.price=u,s.counter=i,s.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{l.value[r]=""}})},removecartitem:r=>{g.delete(route("purchase.destroy",{purchase:r}),{preserveScroll:!0})}}}},F={class:"py-32"},L={key:0},S=["src"],T={key:1},M=["onSubmit"],j={class:"flex flex-row gap-4"},q=["onUpdate:modelValue","max"],U=["disabled"],$={class:"col-span-4 mr-6 p-6 border border-black/20 rounded-3xl relative"},E=["onClick"];function R(l,s,d,a,r,m){const u=_("Container"),i=_("AppLayout");return o(),y(i,{title:"Purchase"},{default:b(()=>[t("div",F,[k(u,{class:"bg-gray-100 !py-4 p-10 rounded-3xl"},{default:b(()=>[s[0]||(s[0]=t("h1",{class:"text-4xl font-bold"},"Purchase Page",-1)),s[1]||(s[1]=t("div",{class:"pb-8"},"This is the purchase page content inside the container.",-1)),(o(!0),n(h,null,f(d.detailitems,e=>(o(),n("div",{key:e.id,class:"mb-12 border-b pb-6"},[e.file_path?(o(),n("div",L,[t("img",{src:`/storage/${e.file_path}`,class:"w-full object-cover object-center h-72 rounded-2xl"},null,8,S)])):(o(),n("div",T,"No image available")),t("div",null,"Product: "+c(e.name),1),t("span",null,"Price: "+c(e.price),1),t("span",null,"Max: "+c(e.max),1),t("form",{onSubmit:C(p=>a.submit(e.id,e.name,e.price),["prevent"]),class:"space-y-6 mt-4"},[t("div",j,[w(t("input",{"onUpdate:modelValue":p=>a.counters[e.id]=p,type:"number",min:"1",max:e.max,class:"w-full main--input"},null,8,q),[[P,a.counters[e.id]]]),t("button",{disabled:a.form.processing,type:"submit",class:"btn btn--primary"},"Buy",8,U)])],40,M)]))),128)),s[2]||(s[2]=t("h2",{class:"text-2xl font-bold mt-12"},"Cart",-1)),(o(!0),n(h,null,f(d.detailitems,e=>(o(),n("div",{key:e.id,class:"grid grid-cols-12 mt-4"},[t("div",$,[A(c(e.name)+" ",1),t("button",{onClick:p=>a.removecartitem(e.id),class:"absolute top-4 right-4 text-red-500"},"Remove",8,E)])]))),128))]),_:1})])]),_:1})}const K=V(D,[["render",R]]);export{K as default};
