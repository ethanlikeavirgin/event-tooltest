import{o as d,e as u,$ as k,_ as m,b as i,w as h,a as e,g as y,F as b,h as w,t as _,j as L,Z as S,d as F,T as j,a2 as A,i as B,l as M,a0 as V}from"./app-DrsA27Kh.js";import{C as x}from"./Container-Btcp66JR.js";import{L as z,F as H}from"./FrontendLayout-D8fp7-ee.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as P}from"./Cart-Dm7kdjSB.js";import{_ as T}from"./AppLayout-BozBNpRG.js";const q={},D={class:"material-symbols-outlined"};function N(c,t){return d(),u("span",D,"check")}const U=g(q,[["render",N]]),O={props:{plans:Array},components:{Container:x},methods:{async purchasePlan(c){var o;const t={plan_id:c.id};try{const s=await k.post("/mollie/payment",t,{headers:{Accept:"application/json","X-Inertia":!1,"X-Requested-With":"XMLHttpRequest"}});(o=s.data)!=null&&o.checkoutUrl?window.location.href=s.data.checkoutUrl:console.error("No checkout URL returned from Mollie.")}catch(s){console.error("Error during Mollie payment:",s)}}}},E={class:"py-32"},R={class:"grid grid-cols-12 gap-6"},W={class:"lg:col-span-4 md:col-span-6 col-span-12"},X={class:"main-card primary"},Z={class:"flex flex-row gap-2 items-end pt-4"},K=["onClick"],Q={class:"mt-8"},I=["innerHTML"];function G(c,t,o,s,l,n){const p=m("Container");return d(),u("section",E,[i(p,null,{default:h(()=>[t[1]||(t[1]=e("h2",{class:"text-center font-bold pb-24"},[y("Checkout our "),e("span",{class:"text-primary"},"prices")],-1)),e("div",R,[(d(!0),u(b,null,w(o.plans,r=>(d(),u("div",W,[e("div",X,[e("span",null,_(r.name),1),e("div",Z,[e("h2",null,"€ "+_(r.price),1),t[0]||(t[0]=e("span",null,"/once",-1))]),e("a",{class:"btn btn--white w-full mt-8 text-center !rounded-xl",onClick:f=>n.purchasePlan(r)},"Order now",8,K),e("div",Q,[e("div",{class:"plan-options",innerHTML:r.options},null,8,I)])])]))),256))])]),_:1})])}const J=g(O,[["render",G]]),Y={props:{plans:Array,items:Array,cart:Array,totalprice:Number,guesttoken:String,auth:Object},components:{Container:x,Logo:z,Checkicon:U,Plans:J,Cart:P,AppLayout:T,FrontendLayout:H,Link:L,Head:S},setup(){const c=F({}),t=j({price:"",item_id:"",name:"",counter:""});return{counters:c,form:t,submit:(l,n,p)=>{const r=c.value[l];if(!r){console.error(`Price is required for item ${n}`);return}t.item_id=l,t.name=n,t.price=p,t.counter=r,console.log(`Submitting for item: ${n} with price: ${p} and ID: ${l}`),t.post(route("purchase.store"),{preserveScroll:!0,preserveState:!0,forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${n} was successful.`)}})},removecartitem:l=>{A.delete(route("purchase.destroy",{purchase:l}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${l} removed from cart`),onError:n=>console.error(n)})}}}},ee={class:"min-h-screen bg-cover bg-center w-full h-full flex items-center hero relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},te={class:"bg-cover bg-center bg-repeat-y w-full h-full hero alt relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},se={class:"py-32"},oe={class:"relative z-10"},ne={class:"grid grid-cols-12 gap-6"},re={class:"lg:col-span-4 md:col-span-6 col-span-12"},ae={class:"main-card third"},le={class:"flex flex-row gap-2 items-end pt-4"},ce={class:"my-4"},ie=["src"],de={class:"mb-4"},ue=["onSubmit"],pe={class:"flex flex-row justify-end ml-auto gap-4"},me=["onUpdate:modelValue"],_e=["disabled"];function fe(c,t,o,s,l,n){const p=m("Head"),r=m("FrontendLayout"),f=m("Container"),$=m("Plans"),C=m("Cart");return d(),u(b,null,[i(p,{title:"Welcome"}),i(r,{auth:o.auth},null,8,["auth"]),e("section",ee,[i(f,null,{default:h(()=>t[0]||(t[0]=[e("div",{class:"relative z-10"},[e("h1",null,[e("span",{class:"font-bold"},"The smart way"),e("br"),e("span",{class:"font-bold"},"to ticket"),e("br"),e("span",{class:"font-bold"},"your"),y(" event ")])],-1),e("div",{class:"absolute z-10 bottom-20 max-w-6xl mx-auto sm:w-full w-fit flex md:flex-row flex-col md:gap-0 gap-4"},[e("a",{class:"btn btn-large btn--primary w-fit mr-6"},"Bekijk de events"),e("a",{class:"btn btn-large btn--white w-fit"},"Contacteer ons")],-1),e("div",{class:"fixed sm:right-5 right-5 sm:bottom-20 bottom-6 shadow-black/20 shadow-lg bg-white rounded-full w-16 h-16 z-50 flex items-center justify-center"},[e("span",{class:"material-symbols-outlined"},"local_activity")],-1)])),_:1})]),i($,{plans:o.plans},null,8,["plans"]),e("section",te,[e("div",se,[e("div",oe,[i(f,null,{default:h(()=>[t[1]||(t[1]=e("h2",{class:"text-black font-bold pb-24"},"Current events",-1)),e("div",ne,[(d(!0),u(b,null,w(o.items,a=>(d(),u("div",re,[e("div",ae,[e("span",null,_(a.name),1),e("div",le,[e("h2",null,"€ "+_(a.price),1)]),e("div",ce,[e("img",{src:"/storage/"+a.file_path,class:"h-40 w-full object-cover object-center rounded-[35px]"},null,8,ie)]),e("div",de,_(a.description),1),e("form",{onSubmit:B(v=>s.submit(a.id,a.name,a.price),["prevent"]),class:"space-y-6"},[e("div",pe,[M(e("input",{placeholder:"Aantal","onUpdate:modelValue":v=>s.counters[a.id]=v,id:"counter",type:"number",class:"main--input counter"},null,8,me),[[V,s.counters[a.id]]]),e("button",{disabled:s.form.processing,type:"submit",class:"btn btn--primary"},"Buy",8,_e)])],40,ue)])]))),256))])]),_:1})])])]),i(C,{cart:o.cart},null,8,["cart"])],64)}const xe=g(Y,[["render",fe]]);export{xe as default};
