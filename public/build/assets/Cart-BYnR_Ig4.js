import{k as d,q as _,c as k,w as f,s as g,o as l,a,g as u,t as s,e as p,h as x,F as b,i as v}from"./app-Dboc0Mwv.js";import{C as y}from"./Container-D7T4b_1Q.js";import{_ as C}from"./AppLayout-DCA2ce1M.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={props:{guest_token:Object,cartitems:Array},components:{Container:y,AppLayout:C},setup(i){const t=d(()=>i.cartitems.reduce((n,r)=>n+r.items.price*r.counter,0));return{submit:async()=>{var r;const n={items:i.cartitems.map(e=>({item_id:e.id,name:e.name,price:e.items.price,counter:e.counter,line_total:(e.items.price*e.counter).toFixed(2)})),total:t.value.toFixed(2),guest_token:i.guest_token};try{const e=await g.post("/mollie/payment",n);console.log("Mollie response:",e),(r=e.data)!=null&&r.checkoutUrl?window.open(e.data.checkoutUrl,"_blank"):console.error("Geen checkout URL ontvangen van Mollie.")}catch(e){console.error("Fout bij Mollie betaling:",e)}},totalPrice:t}}};function B(i,t,c,n,r,e){const m=_("Container");return l(),k(m,null,{default:f(()=>[a("div",null,[t[1]||(t[1]=a("span",null,"Dit is een test - ",-1)),u(s(c.guest_token),1)]),(l(!0),p(b,null,x(c.cartitems,o=>(l(),p("div",{key:o.id},s(o.name)+" - "+s(o.counter)+" x "+s(o.items.price)+" = â‚¬ "+s((o.counter*o.items.price).toFixed(2)),1))),128)),a("p",null,[t[2]||(t[2]=a("strong",null,"Totaal:",-1)),u(" â‚¬"+s(n.totalPrice.toFixed(2)),1)]),a("button",{onClick:t[0]||(t[0]=v((...o)=>n.submit&&n.submit(...o),["prevent"]))}," Bevestig Aankoop ")]),_:1})}const h=F(w,[["render",B]]);export{h as default};
