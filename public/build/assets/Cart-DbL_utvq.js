import{j as m,Z as p,d as _,T as h,Y as f,o as a,e as i,F as g,h as v,a as s,b as x,w as b,g as w,a1 as k,t as u,i as $}from"./app-ChUJ2Xaz.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={props:{items:Array,cart:Array,totalprice:Number,guesttoken:String},components:{Link:m,Head:p},setup(){const n=_({}),e=h({price:"",item_id:"",name:"",counter:""});return{counters:n,form:e,submit:(t,r,c)=>{const o=n.value[t];if(!o){console.error(`Price is required for item ${r}`);return}e.item_id=t,e.name=r,e.price=c,e.counter=o,console.log(`Submitting for item: ${r} with price: ${c} and ID: ${t}`),e.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${r} was successful.`)}})},removecartitem:t=>{k.delete(route("purchase.destroy",{purchase:t}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${t} removed from cart`),onError:r=>console.error(r)})}}}},S={class:"fixed right-4 top-14 mt-2 w-72 h-fit bg-white border border-gray-200 rounded-lg shadow-lg overflow-scroll"},D={class:"p-4"},F={class:"flex items-center mb-4"},L=["src"],B={class:"ml-4"},T={class:"text-sm font-medium"},V={class:"text-xs text-gray-500"},A=["onClick"],E={class:"border-t border-gray-200 px-4 py-3"};function N(n,e,l,d,t,r){const c=f("Link");return a(),i("div",S,[(a(!0),i(g,null,v(l.cart,o=>(a(),i("div",D,[s("div",F,[s("img",{src:`/storage/${o.items.file_path}`,class:"w-12 h-12 rounded-md"},null,8,L),s("div",B,[s("h3",T,u(o.name),1),s("p",V,u(o.counter)+" Ticket(s)",1),s("a",{onClick:$(j=>d.removecartitem(o.id),["prevent"]),class:"text-xs text-red-500 cursor-pointer"},"Remove",8,A)])])]))),256)),s("div",E,[x(c,{href:"/cart",class:"btn btn--primary"},{default:b(()=>e[0]||(e[0]=[w(" Checkout ")])),_:1})])])}const M=y(C,[["render",N]]);export{M as C};
