import{j as m,Z as _,d as p,T as h,Y as f,o as i,e as d,F as g,h as v,a as s,b as x,w as b,g as w,f as k,a1 as y,t as u,i as $}from"./app-DSQXuv6J.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={props:{cart:Array},components:{Link:m,Head:_},setup(){const n=p({}),e=h({price:"",item_id:"",name:"",counter:""});return{counters:n,form:e,submit:(t,o,c)=>{const r=n.value[t];if(!r){console.error(`Price is required for item ${o}`);return}e.item_id=t,e.name=o,e.price=c,e.counter=r,console.log(`Submitting for item: ${o} with price: ${c} and ID: ${t}`),e.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${o} was successful.`)}})},removecartitem:t=>{y.delete(route("purchase.destroy",{purchase:t}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${t} removed from cart`),onError:o=>console.error(o)})}}}},F={key:0,class:"fixed right-4 top-14 mt-2 w-72 h-fit bg-white border border-gray-200 rounded-[35px] shadow-lg overflow-scroll"},L={class:"p-4"},S={class:"flex items-center mb-4"},V=["src"],B={class:"ml-4"},T={class:"text-sm font-medium"},E={class:"text-xs text-gray-500"},N=["onClick"],j={class:"border-t border-gray-200 px-4 py-3"};function q(n,e,a,l,t,o){const c=f("Link");return a.cart.length>0?(i(),d("div",F,[(i(!0),d(g,null,v(a.cart,r=>(i(),d("div",L,[s("div",S,[s("img",{src:`/storage/${r.items.file_path}`,class:"w-12 h-12 rounded-md"},null,8,V),s("div",B,[s("h3",T,u(r.name),1),s("p",E,u(r.counter)+" Ticket(s)",1),s("a",{onClick:$(A=>l.removecartitem(r.id),["prevent"]),class:"text-xs text-red-500 cursor-pointer"},"Remove",8,N)])])]))),256)),s("div",j,[x(c,{href:"/cart",class:"btn btn--primary w-fit"},{default:b(()=>e[0]||(e[0]=[w(" Checkout ")])),_:1})])])):k("",!0)}const P=C(D,[["render",q]]);export{P as C};
