import{d as m,k as v,q as g,c as _,w as x,s as y,o as u,a as n,t as l,e as f,h as b,F as C,g as N,l as p,x as d,i as w}from"./app-Bzge5068.js";import{C as U}from"./Container-nURAdZKE.js";import{_ as V}from"./AppLayout-BS5JH3Z5.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={props:{guest_token:Object,cartitems:Array},components:{Container:U,AppLayout:V},setup(r){const t=m(""),s=m(""),a=m(),c=v(()=>r.cartitems.reduce((i,e)=>i+e.items.price*e.counter,0));return{submit:async()=>{var e;const i={first_name:t.value,last_name:s.value,email:a.value,items:r.cartitems.map(o=>({item_id:o.id,name:o.name,price:o.items.price,counter:o.counter,line_total:o.items.price*o.counter})),total:c.value,guest_token:r.guest_token};try{const o=await y.post("/mollie/payment",i);console.log("Mollie response:",o),(e=o.data)!=null&&e.checkoutUrl?window.open(o.data.checkoutUrl,"_blank"):console.error("Geen checkout URL ontvangen van Mollie.")}catch(o){console.error("Fout bij Mollie betaling:",o)}},totalPrice:c,firstName:t,lastName:s,Email:a}}};function M(r,t,s,a,c,k){const i=g("Container");return u(),_(i,null,{default:x(()=>[n("div",null,l(s.guest_token),1),(u(!0),f(C,null,b(s.cartitems,e=>(u(),f("div",{key:e.id},l(e.name)+" - "+l(e.counter)+" x "+l(e.items.price)+" = â‚¬ "+l((e.counter*e.items.price).toFixed(2)),1))),128)),n("p",null,[t[4]||(t[4]=n("strong",null,"Totaal:",-1)),N(" â‚¬"+l(a.totalPrice.toFixed(2)),1)]),p(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.firstName=e),placeholder:"Voornaam"},null,512),[[d,a.firstName]]),p(n("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.lastName=e),placeholder:"Achternaam"},null,512),[[d,a.lastName]]),p(n("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.email=e),placeholder:"Email"},null,512),[[d,r.email]]),n("button",{onClick:t[3]||(t[3]=w((...e)=>a.submit&&a.submit(...e),["prevent"]))}," Bevestig Aankoop ")]),_:1})}const T=B(F,[["render",M]]);export{T as default};
