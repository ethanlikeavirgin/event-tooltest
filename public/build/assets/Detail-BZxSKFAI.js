import{d as b,T as f,_ as v,e as o,b as h,w as x,a2 as y,o as a,a as s,F as p,h as _,t as l,i as g,l as k,a0 as C,g as w}from"./app-Cx_k3_Cc.js";import{C as P}from"./Container-DdE1o165.js";import{_ as V}from"./AppLayout-paYi4DRq.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={props:{items:Array,detailitems:Array},components:{Container:P,AppLayout:V},setup(){const i=b({}),t=f({price:"",item_id:"",name:"",counter:""});return{counters:i,form:t,submit:(n,d,m)=>{const e=i.value[n];if(!e||e<=0){console.error(`Please enter quantity for ${d}`);return}t.item_id=n,t.name=d,t.price=m,t.counter=e,t.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{i.value[n]=""}})},removecartitem:n=>{y.delete(route("purchase.destroy",{purchase:n}),{preserveScroll:!0})}}}},F={class:"py-32"},N={key:0},S=["src"],T={key:1},A=["onSubmit"],M={class:"flex flex-row gap-4"},j=["onUpdate:modelValue","max"],L=["disabled"],U={class:"col-span-4 mr-6 p-6 border border-black/20 rounded-3xl relative"},$=["onClick"];function q(i,t,c,r,n,d){const m=v("Container");return a(),o("div",F,[h(m,{class:"bg-gray-100 !py-4 p-10 rounded-3xl"},{default:x(()=>[t[0]||(t[0]=s("h1",{class:"text-4xl font-bold"},"Purchase Page",-1)),t[1]||(t[1]=s("div",{class:"pb-8"},"This is the purchase page content inside the container.",-1)),(a(!0),o(p,null,_(c.detailitems,e=>(a(),o("div",{key:e.id,class:"mb-12 border-b pb-6"},[e.file_path?(a(),o("div",N,[s("img",{src:`/storage/${e.file_path}`,class:"w-full object-cover object-center h-72 rounded-2xl"},null,8,S)])):(a(),o("div",T,"No image available")),s("div",null,"Product: "+l(e.name),1),s("span",null,"Price: "+l(e.price),1),s("span",null,"Max: "+l(e.max),1),s("form",{onSubmit:g(u=>r.submit(e.id,e.name,e.price),["prevent"]),class:"space-y-6 mt-4"},[s("div",M,[k(s("input",{"onUpdate:modelValue":u=>r.counters[e.id]=u,type:"number",min:"1",max:e.max,class:"w-full main--input"},null,8,j),[[C,r.counters[e.id]]]),s("button",{disabled:r.form.processing,type:"submit",class:"btn btn--primary"},"Buy",8,L)])],40,A)]))),128)),t[2]||(t[2]=s("h2",{class:"text-2xl font-bold mt-12"},"Cart",-1)),(a(!0),o(p,null,_(c.detailitems,e=>(a(),o("div",{key:e.id,class:"grid grid-cols-12 mt-4"},[s("div",U,[w(l(e.name)+" ",1),s("button",{onClick:u=>r.removecartitem(e.id),class:"absolute top-4 right-4 text-red-500"},"Remove",8,$)])]))),128))]),_:1})])}const H=B(D,[["render",q]]);export{H as default};
