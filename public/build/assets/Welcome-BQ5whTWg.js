import{o as u,e as p,$ as k,_,b as d,w as g,a as e,g as x,F as v,h as $,t as h,j as L,Z as S,d as F,T as j,a2 as A,i as B,l as M,a0 as V}from"./app-C5d-PKnF.js";import{C}from"./Container-B5r860ra.js";import{L as q,F as z}from"./FrontendLayout-BjI48vy9.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as H}from"./Cart-Bb-Htq8o.js";import{_ as P}from"./AppLayout-llx1slfj.js";const T={},U={class:"material-symbols-outlined"};function D(a,t){return u(),p("span",U,"check")}const N=y(T,[["render",D]]),O={props:{plans:Array},components:{Container:C},methods:{async purchasePlan(a){var l,c,r,o,i,n,m,f,b;const t={plan_id:a.id,first_name:((r=(c=(l=this.auth)==null?void 0:l.user)==null?void 0:c.name)==null?void 0:r.split(" ")[0])||"Guest",last_name:((n=(i=(o=this.auth)==null?void 0:o.user)==null?void 0:i.name)==null?void 0:n.split(" ")[1])||"User",email:((f=(m=this.auth)==null?void 0:m.user)==null?void 0:f.email)||"guest@example.com",items:[{name:a.name,price:a.price,quantity:1,total:a.price}]};try{const s=await k.post("/mollie/payment",t,{headers:{Accept:"application/json","X-Inertia":!1,"X-Requested-With":"XMLHttpRequest"}});(b=s.data)!=null&&b.checkoutUrl?window.location.href=s.data.checkoutUrl:console.error("No checkout URL returned from Mollie.")}catch(s){console.error("Error during Mollie payment:",s)}}}},E={class:"py-32"},R={class:"grid grid-cols-12 gap-6"},W={class:"lg:col-span-4 md:col-span-6 col-span-12"},X={class:"main-card primary"},Z={class:"flex flex-row gap-2 items-end pt-4"},K=["onClick"],Q={class:"mt-8"},G=["innerHTML"];function I(a,t,l,c,r,o){const i=_("Container");return u(),p("section",E,[d(i,null,{default:g(()=>[t[1]||(t[1]=e("h2",{class:"text-center font-bold pb-24"},[x("Checkout our "),e("span",{class:"text-primary"},"prices")],-1)),e("div",R,[(u(!0),p(v,null,$(l.plans,n=>(u(),p("div",W,[e("div",X,[e("span",null,h(n.name),1),e("div",Z,[e("h2",null,"€ "+h(n.price),1),t[0]||(t[0]=e("span",null,"/once",-1))]),e("a",{class:"btn btn--white w-full mt-8 text-center !rounded-xl",onClick:m=>o.purchasePlan(n)},"Order now",8,K),e("div",Q,[e("div",{class:"plan-options",innerHTML:n.options},null,8,G)])])]))),256))])]),_:1})])}const J=y(O,[["render",I]]),Y={props:{plans:Array,items:Array,cart:Array,totalprice:Number,guesttoken:String,auth:Object},components:{Container:C,Logo:q,Checkicon:N,Plans:J,Cart:H,AppLayout:P,FrontendLayout:z,Link:L,Head:S},setup(){const a=F({}),t=j({price:"",item_id:"",name:"",counter:""});return{counters:a,form:t,submit:(r,o,i)=>{const n=a.value[r];if(!n){console.error(`Price is required for item ${o}`);return}t.item_id=r,t.name=o,t.price=i,t.counter=n,console.log(`Submitting for item: ${o} with price: ${i} and ID: ${r}`),t.post(route("purchase.store"),{preserveScroll:!0,preserveState:!0,forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${o} was successful.`)}})},removecartitem:r=>{A.delete(route("purchase.destroy",{purchase:r}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${r} removed from cart`),onError:o=>console.error(o)})}}}},ee={class:"min-h-screen bg-cover bg-center w-full h-full flex items-center hero relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},te={class:"bg-cover bg-center bg-repeat-y w-full h-full hero alt relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},se={class:"py-32"},oe={class:"relative z-10"},ne={class:"grid grid-cols-12 gap-6"},re={class:"lg:col-span-4 md:col-span-6 col-span-12"},ae={class:"main-card third"},le={class:"flex flex-row gap-2 items-end pt-4"},ce={class:"my-4"},ie=["src"],de={class:"mb-4"},ue=["onSubmit"],pe={class:"flex flex-row justify-end ml-auto gap-4"},me=["onUpdate:modelValue"],_e=["disabled"];function he(a,t,l,c,r,o){const i=_("Head"),n=_("FrontendLayout"),m=_("Container"),f=_("Plans"),b=_("Cart");return u(),p(v,null,[d(i,{title:"Welcome"}),d(n,{auth:l.auth},null,8,["auth"]),e("section",ee,[d(m,null,{default:g(()=>t[0]||(t[0]=[e("div",{class:"relative z-10"},[e("h1",null,[e("span",{class:"font-bold"},"The smart way"),e("br"),e("span",{class:"font-bold"},"to ticket"),e("br"),e("span",{class:"font-bold"},"your"),x(" event ")])],-1),e("div",{class:"absolute z-10 bottom-20 max-w-6xl mx-auto sm:w-full w-fit flex md:flex-row flex-col md:gap-0 gap-4"},[e("a",{class:"btn btn-large btn--primary w-fit mr-6"},"Bekijk de events"),e("a",{class:"btn btn-large btn--white w-fit"},"Contacteer ons")],-1),e("div",{class:"fixed sm:right-5 right-5 sm:bottom-20 bottom-6 shadow-black/20 shadow-lg bg-white rounded-full w-16 h-16 z-50 flex items-center justify-center"},[e("span",{class:"material-symbols-outlined"},"local_activity")],-1)])),_:1})]),d(f,{plans:l.plans},null,8,["plans"]),e("section",te,[e("div",se,[e("div",oe,[d(m,null,{default:g(()=>[t[1]||(t[1]=e("h2",{class:"text-black font-bold pb-24"},"Current events",-1)),e("div",ne,[(u(!0),p(v,null,$(l.items,s=>(u(),p("div",re,[e("div",ae,[e("span",null,h(s.name),1),e("div",le,[e("h2",null,"€ "+h(s.price),1)]),e("div",ce,[e("img",{src:"/storage/"+s.file_path,class:"h-40 w-full object-cover object-center rounded-[35px]"},null,8,ie)]),e("div",de,h(s.description),1),e("form",{onSubmit:B(w=>c.submit(s.id,s.name,s.price),["prevent"]),class:"space-y-6"},[e("div",pe,[M(e("input",{placeholder:"Aantal","onUpdate:modelValue":w=>c.counters[s.id]=w,id:"counter",type:"number",class:"main--input counter"},null,8,me),[[V,c.counters[s.id]]]),e("button",{disabled:c.form.processing,type:"submit",class:"btn btn--primary"},"Buy",8,_e)])],40,ue)])]))),256))])]),_:1})])])]),d(b,{cart:l.cart},null,8,["cart"])],64)}const xe=y(Y,[["render",he]]);export{xe as default};
