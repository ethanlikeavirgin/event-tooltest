import{o as d,e as u,a2 as y,$ as S,_ as m,b as i,w as f,a as e,g as w,F as b,h as x,t as _,j as L,Z as F,d as j,T as B,i as V,l as z,a0 as A}from"./app-D5VBnFMW.js";import{C as $}from"./Container-BcE-ZBTr.js";import{L as M,F as P}from"./FrontendLayout-BcMPhxEl.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as T}from"./Cart-D3-sEs-E.js";import{_ as D}from"./AppLayout-d2HEexaH.js";const H={},N={class:"material-symbols-outlined"};function U(l,t){return d(),u("span",N,"check")}const O=g(H,[["render",U]]),q={props:{plans:Array},components:{Container:$},methods:{async purchasePlan(l){var t;try{await y.post("/plans/purchase",{plan_id:l.id},{preserveScroll:!0,preserveState:!0});const s={plan_id:l.id},o=await S.post("/mollie/payment",s);(t=o.data)!=null&&t.checkoutUrl?window.open(o.data.checkoutUrl,"_blank"):console.error("No checkout URL returned from Mollie.")}catch(s){console.error("Error during purchase or Mollie payment:",s)}}}},E={class:"py-32"},Z={class:"grid grid-cols-12 gap-6"},K={class:"lg:col-span-4 md:col-span-6 col-span-12"},Q={class:"main-card primary"},W={class:"flex flex-row gap-2 items-end pt-4"},R=["onClick"],G={class:"mt-8"},I=["innerHTML"];function J(l,t,s,o,c,n){const p=m("Container");return d(),u("section",E,[i(p,null,{default:f(()=>[t[1]||(t[1]=e("h2",{class:"text-center font-bold pb-24"},[w("Checkout our "),e("span",{class:"text-primary"},"prices")],-1)),e("div",Z,[(d(!0),u(b,null,x(s.plans,r=>(d(),u("div",K,[e("div",Q,[e("span",null,_(r.name),1),e("div",W,[e("h2",null,"€ "+_(r.price),1),t[0]||(t[0]=e("span",null,"/once",-1))]),e("a",{class:"btn btn--white w-full mt-8 text-center !rounded-xl",onClick:h=>n.purchasePlan(r)},"Order now",8,R),e("div",G,[e("div",{class:"plan-options",innerHTML:r.options},null,8,I)])])]))),256))])]),_:1})])}const X=g(q,[["render",J]]),Y={props:{plans:Array,items:Array,cart:Array,totalprice:Number,guesttoken:String,auth:Object},components:{Container:$,Logo:M,Checkicon:O,Plans:X,Cart:T,AppLayout:D,FrontendLayout:P,Link:L,Head:F},setup(){const l=j({}),t=B({price:"",item_id:"",name:"",counter:""});return{counters:l,form:t,submit:(c,n,p)=>{const r=l.value[c];if(!r){console.error(`Price is required for item ${n}`);return}t.item_id=c,t.name=n,t.price=p,t.counter=r,console.log(`Submitting for item: ${n} with price: ${p} and ID: ${c}`),t.post(route("purchase.store"),{preserveScroll:!0,preserveState:!0,forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${n} was successful.`)}})},removecartitem:c=>{y.delete(route("purchase.destroy",{purchase:c}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${c} removed from cart`),onError:n=>console.error(n)})}}}},ee={class:"min-h-screen bg-cover bg-center w-full h-full flex items-center hero relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},te={class:"bg-cover bg-center bg-repeat-y w-full h-full hero alt relative",style:{"background-image":"url('storage/files/1LNg0Sum6rv0fhoKVCFnhqScQuf2Bbrz7fZO1wh7.png')"}},se={class:"py-32"},oe={class:"relative z-10"},ne={class:"grid grid-cols-12 gap-6"},re={class:"lg:col-span-4 md:col-span-6 col-span-12"},ae={class:"main-card third"},le={class:"flex flex-row gap-2 items-end pt-4"},ce={class:"my-4"},ie=["src"],de={class:"mb-4"},ue=["onSubmit"],pe={class:"flex flex-row justify-end ml-auto gap-4"},me=["onUpdate:modelValue"],_e=["disabled"];function he(l,t,s,o,c,n){const p=m("Head"),r=m("FrontendLayout"),h=m("Container"),k=m("Plans"),C=m("Cart");return d(),u(b,null,[i(p,{title:"Welcome"}),i(r,{auth:s.auth},null,8,["auth"]),e("section",ee,[i(h,null,{default:f(()=>t[0]||(t[0]=[e("div",{class:"relative z-10"},[e("h1",null,[e("span",{class:"font-bold"},"The smart way"),e("br"),e("span",{class:"font-bold"},"to ticket"),e("br"),e("span",{class:"font-bold"},"your"),w(" event ")])],-1),e("div",{class:"absolute z-10 bottom-20 max-w-6xl mx-auto sm:w-full w-fit flex md:flex-row flex-col md:gap-0 gap-4"},[e("a",{class:"btn btn-large btn--primary w-fit mr-6"},"Bekijk de events"),e("a",{class:"btn btn-large btn--white w-fit"},"Contacteer ons")],-1),e("div",{class:"fixed sm:right-5 right-5 sm:bottom-20 bottom-6 shadow-black/20 shadow-lg bg-white rounded-full w-16 h-16 z-50 flex items-center justify-center"},[e("span",{class:"material-symbols-outlined"},"local_activity")],-1)])),_:1})]),i(k,{plans:s.plans},null,8,["plans"]),e("section",te,[e("div",se,[e("div",oe,[i(h,null,{default:f(()=>[t[1]||(t[1]=e("h2",{class:"text-black font-bold pb-24"},"Current events",-1)),e("div",ne,[(d(!0),u(b,null,x(s.items,a=>(d(),u("div",re,[e("div",ae,[e("span",null,_(a.name),1),e("div",le,[e("h2",null,"€ "+_(a.price),1)]),e("div",ce,[e("img",{src:"/storage/"+a.file_path,class:"h-40 w-full object-cover object-center rounded-[35px]"},null,8,ie)]),e("div",de,_(a.description),1),e("form",{onSubmit:V(v=>o.submit(a.id,a.name,a.price),["prevent"]),class:"space-y-6"},[e("div",pe,[z(e("input",{placeholder:"Aantal","onUpdate:modelValue":v=>o.counters[a.id]=v,id:"counter",type:"number",class:"main--input counter"},null,8,me),[[A,o.counters[a.id]]]),e("button",{disabled:o.form.processing,type:"submit",class:"btn btn--primary"},"Buy",8,_e)])],40,ue)])]))),256))])]),_:1})])])]),i(C,{cart:s.cart},null,8,["cart"])],64)}const xe=g(Y,[["render",he]]);export{xe as default};
