import{d as m,k as x,q as _,c as v,w as g,s as y,o as u,a as n,t as r,e as f,h as b,F as C,g as N,l as d,x as p,i as w}from"./app-BWJc952x.js";import{C as U}from"./Container-DAgYhx1J.js";import{_ as V}from"./AppLayout-4TY4dcI0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={props:{guest_token:Object,cartitems:Array},components:{Container:U,AppLayout:V},setup(i){const t=m(""),l=m(""),o=m(""),c=x(()=>i.cartitems.reduce((s,e)=>s+e.items.price*e.counter,0));return{submit:async()=>{var e;const s={first_name:t.value,last_name:l.value,email:o.value,items:i.cartitems.map(a=>({item_id:a.id,name:a.name,price:a.items.price,counter:a.counter,line_total:a.items.price*a.counter})),total:c.value,guest_token:i.guest_token};try{const a=await y.post("/mollie/payment",s);console.log("Mollie response:",a),(e=a.data)!=null&&e.checkoutUrl?window.open(a.data.checkoutUrl,"_blank"):console.error("Geen checkout URL ontvangen van Mollie.")}catch(a){console.error("Fout bij Mollie betaling:",a)}},totalPrice:c,firstName:t,lastName:l,email:o}}};function M(i,t,l,o,c,k){const s=_("Container");return u(),v(s,null,{default:g(()=>[n("div",null,r(l.guest_token),1),(u(!0),f(C,null,b(l.cartitems,e=>(u(),f("div",{key:e.id},r(e.name)+" - "+r(e.counter)+" x "+r(e.items.price)+" = â‚¬ "+r((e.counter*e.items.price).toFixed(2)),1))),128)),n("p",null,[t[4]||(t[4]=n("strong",null,"Totaal:",-1)),N(" â‚¬"+r(o.totalPrice.toFixed(2)),1)]),d(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.firstName=e),placeholder:"Voornaam"},null,512),[[p,o.firstName]]),d(n("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.lastName=e),placeholder:"Achternaam"},null,512),[[p,o.lastName]]),d(n("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.email=e),placeholder:"Email"},null,512),[[p,o.email]]),n("button",{onClick:t[3]||(t[3]=w((...e)=>o.submit&&o.submit(...e),["prevent"]))}," Bevestig Aankoop ")]),_:1})}const j=B(F,[["render",M]]);export{j as default};
