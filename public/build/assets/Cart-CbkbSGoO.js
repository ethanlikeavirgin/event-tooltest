import{j as m,Z as _,d as h,T as p,_ as f,o as i,e as d,F as g,h as v,a as s,b as x,w as b,g as w,f as y,a2 as k,t as u,i as C}from"./app-d555eEwq.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={props:{cart:Array,items:Array,totalprice:Number,guesttoken:String},components:{Link:m,Head:_},setup(){const a=h({}),e=p({price:"",item_id:"",name:"",counter:""});return{counters:a,form:e,submit:(t,r,n)=>{const o=a.value[t];if(!o){console.error(`Price is required for item ${r}`);return}e.item_id=t,e.name=r,e.price=n,e.counter=o,console.log(`Submitting for item: ${r} with price: ${n} and ID: ${t}`),e.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${r} was successful.`)}})},removecartitem:t=>{k.delete(route("purchase.destroy",{purchase:t}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${t} removed from cart`),onError:r=>console.error(r)})}}}},A={key:0,class:"fixed right-4 top-14 mt-2 w-72 h-fit bg-white border border-gray-200 rounded-[35px] shadow-lg overflow-scroll"},D={class:"p-4"},F={class:"flex items-center mb-4"},L=["src"],V={class:"ml-4"},B={class:"text-sm font-medium"},N={class:"text-xs text-gray-500"},T=["onClick"],E={class:"border-t border-gray-200 px-4 py-3"};function j(a,e,c,l,t,r){const n=f("Link");return Array.isArray(c.cart)&&c.cart.length>0?(i(),d("div",A,[(i(!0),d(g,null,v(c.cart,o=>(i(),d("div",D,[s("div",F,[s("img",{src:`/storage/${o.items.file_path}`,class:"w-12 h-12 rounded-md"},null,8,L),s("div",V,[s("h3",B,u(o.name),1),s("p",N,u(o.counter)+" Ticket(s)",1),s("a",{onClick:C(q=>l.removecartitem(o.id),["prevent"]),class:"text-xs text-red-500 cursor-pointer"},"Remove",8,T)])])]))),256)),s("div",E,[x(n,{href:"/cart",class:"btn btn--primary w-fit"},{default:b(()=>e[0]||(e[0]=[w(" Checkout ")])),_:1})])])):y("",!0)}const P=$(S,[["render",j]]);export{P as C};
