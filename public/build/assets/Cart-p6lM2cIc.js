import{d as u,k as _,q as k,c as x,w as g,s as v,o as c,a as n,t as r,e as m,h as y,F as b,g as C,l as d,x as p,i as N}from"./app-C0bCRqPE.js";import{C as w}from"./Container-D1yp9D-z.js";import{_ as F}from"./AppLayout-BkSoSRAl.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={props:{guest_token:Object,cartitems:Array},components:{Container:w,AppLayout:F},setup(l){const t=u(""),s=u(""),o=_(()=>l.cartitems.reduce((i,a)=>i+a.items.price*a.counter,0));return{submit:async()=>{var a;const i={first_name:t.value,last_name:s.value,items:l.cartitems.map(e=>({item_id:e.id,name:e.name,price:e.items.price,counter:e.counter,line_total:(e.items.price*e.counter).toFixed(2)})),total:o.value.toFixed(2),guest_token:l.guest_token};try{const e=await v.post("/mollie/payment",i);console.log("Mollie response:",e),(a=e.data)!=null&&a.checkoutUrl?window.open(e.data.checkoutUrl,"_blank"):console.error("Geen checkout URL ontvangen van Mollie.")}catch(e){console.error("Fout bij Mollie betaling:",e)}},totalPrice:o,firstName:t,lastName:s}}};function U(l,t,s,o,f,i){const a=k("Container");return c(),x(a,null,{default:g(()=>[n("div",null,r(s.guest_token),1),(c(!0),m(b,null,y(s.cartitems,e=>(c(),m("div",{key:e.id},r(e.name)+" - "+r(e.counter)+" x "+r(e.items.price)+" = â‚¬ "+r((e.counter*e.items.price).toFixed(2)),1))),128)),n("p",null,[t[3]||(t[3]=n("strong",null,"Totaal:",-1)),C(" â‚¬"+r(o.totalPrice.toFixed(2)),1)]),d(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.firstName=e),placeholder:"Voornaam"},null,512),[[p,o.firstName]]),d(n("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.lastName=e),placeholder:"Achternaam"},null,512),[[p,o.lastName]]),n("button",{onClick:t[2]||(t[2]=N((...e)=>o.submit&&o.submit(...e),["prevent"]))}," Bevestig Aankoop ")]),_:1})}const T=B(M,[["render",U]]);export{T as default};
