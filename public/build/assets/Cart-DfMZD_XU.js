import{j as m,Z as _,d as p,T as h,Y as f,o as i,e as d,F as g,h as v,a as s,b as x,w as b,g as w,f as k,a1 as y,t as u,i as $}from"./app-DqYK61MP.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={props:{items:Array,cart:Array,totalprice:Number,guesttoken:String},components:{Link:m,Head:_},setup(){const n=p({}),e=h({price:"",item_id:"",name:"",counter:""});return{counters:n,form:e,submit:(t,r,c)=>{const o=n.value[t];if(!o){console.error(`Price is required for item ${r}`);return}e.item_id=t,e.name=r,e.price=c,e.counter=o,console.log(`Submitting for item: ${r} with price: ${c} and ID: ${t}`),e.post(route("purchase.store"),{forceFormData:!0,onFinish:()=>{console.log(`Purchase for ${r} was successful.`)}})},removecartitem:t=>{y.delete(route("purchase.destroy",{purchase:t}),{preserveScroll:!0,onSuccess:()=>console.log(`Item with ID ${t} removed from cart`),onError:r=>console.error(r)})}}}},D={key:0,class:"fixed right-4 top-14 mt-2 w-72 h-fit bg-white border border-gray-200 rounded-[35px] shadow-lg overflow-scroll"},F={class:"p-4"},L={class:"flex items-center mb-4"},V=["src"],B={class:"ml-4"},N={class:"text-sm font-medium"},T={class:"text-xs text-gray-500"},A=["onClick"],E={class:"border-t border-gray-200 px-4 py-3"};function j(n,e,a,l,t,r){const c=f("Link");return a.cart.length>0?(i(),d("div",D,[(i(!0),d(g,null,v(a.cart,o=>(i(),d("div",F,[s("div",L,[s("img",{src:`/storage/${o.items.file_path}`,class:"w-12 h-12 rounded-md"},null,8,V),s("div",B,[s("h3",N,u(o.name),1),s("p",T,u(o.counter)+" Ticket(s)",1),s("a",{onClick:$(q=>l.removecartitem(o.id),["prevent"]),class:"text-xs text-red-500 cursor-pointer"},"Remove",8,A)])])]))),256)),s("div",E,[x(c,{href:"/cart",class:"btn btn--primary w-fit"},{default:b(()=>e[0]||(e[0]=[w(" Checkout ")])),_:1})])])):k("",!0)}const P=C(S,[["render",j]]);export{P as C};
